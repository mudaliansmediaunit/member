<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css">
    <title>Home | MMU</title>
  </head>
  <body>
    <div class="notice-content">
      <h1>NOTICE</h1>
      <p style="margin-top: 20px;">This site is no longer available due to high traffic. It has been moved to a new domain. Please contact the administrator for more information.</p>
      <a href=""></a>
    </div>
    <div class="notice">
    </div>
    <div class="container">
      <header>
        <img src="images/logo.png" style="width: 60px" alt="" />
      </header>
      <h4>Enter the Passkey</h4>
      <form id="passkeyForm">
        <div class="input-field">
          <input type="number" id="num1" />
          <input type="number" id="num2" disabled />
          <input type="number" id="num3" disabled />
        </div>
        <button>Next</button>
      </form>
      <p>Version <a href="changelog.html" style="color: #4070f4;"><b>1.10.0</b></a></p>
      <p>Developed By Rivith Abinidu</p>
    </div>

    <!-- <script>
      window.localStorage.setItem("adminCanLogin", "false");
    </script> -->

    <script>
      document
        .getElementById("passkeyForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent page reload

          // Your logic here (e.g., get input values, validate, etc.)
          const num1 = document.getElementById("num1").value;
          const num2 = document.getElementById("num2").value;
          const num3 = document.getElementById("num3").value;
          const passkey = num1 + num2 + num3;

          console.log(passkey);


          // Add your code to process the data or navigate to the next step
        });
    </script>
    <script>
      // if the value has more than one character then clear it
      const inputs = document.querySelectorAll("input"),
        button = document.querySelector("button");

      // iterate over all inputs
      inputs.forEach((input, index1) => {
        input.addEventListener("keyup", (e) => {
          // This code gets the current input element and stores it in the currentInput variable
          // This code gets the next sibling element of the current input element and stores it in the nextInput variable
          // This code gets the previous sibling element of the current input element and stores it in the prevInput variable
          const currentInput = input,
            nextInput = input.nextElementSibling,
            prevInput = input.previousElementSibling;

          // if the value has more than one character then clear it
          if (currentInput.value.length > 1) {
            currentInput.value = "";
            return;
          }
          // if the next input is disabled and the current value is not empty
          //  enable the next input and focus on it
          if (
            nextInput &&
            nextInput.hasAttribute("disabled") &&
            currentInput.value !== ""
          ) {
            nextInput.removeAttribute("disabled");
            nextInput.focus();
          }

          // if the backspace key is pressed
          if (e.key === "Backspace") {
            // iterate over all inputs again
            inputs.forEach((input, index2) => {
              // if the index1 of the current input is less than or equal to the index2 of the input in the outer loop
              // and the previous element exists, set the disabled attribute on the input and focus on the previous element
              if (index1 <= index2 && prevInput) {
                input.setAttribute("disabled", true);
                input.value = "";
                prevInput.focus();
              }
            });
          }
          //if the fourth input( which index number is 3) is not empty and has not disable attribute then
          //add active class if not then remove the active class.
          if (!inputs[2].disabled && inputs[2].value !== "") {
            button.classList.add("active");
            return;
          }
          button.classList.remove("active");
        });
      });

      //focus the first input which index is 0 on window load
      window.addEventListener("load", () => inputs[0].focus());
    </script>
    <script src="index.js" type="module"></script>
  </body>
</html>
